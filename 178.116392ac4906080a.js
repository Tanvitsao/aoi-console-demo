"use strict";(self.webpackChunkaoi_console=self.webpackChunkaoi_console||[]).push([[178],{8178:(Ie,N,c)=>{c.r(N),c.d(N,{DetectionModule:()=>qe});var d=c(6895),C=c(9299),v=c(7321),a=c(433);function w(r){return o=>String(o.value).trim()?null:{msg:r?.errorMsg||"\u6b64\u6b04\u4f4d\u70ba\u5fc5\u586b\u6b04\u4f4d"}}const q={getFormErrorStr(r,o){let n="";const t=r?.get(o),i=t?.errors;return(!r||!t||!t.dirty||!i)&&(n=""),i?.required?(n="\u6b64\u6b04\u4f4d\u70ba\u5fc5\u586b\u6b04\u4f4d",n):(i?.msg&&(n=i.msg),n)},getFormArrayErrorStr(r,o,n){let t="";const i=r.at(o)?.get(n),s=i?.errors;return(!r||!i||!i.dirty||!s)&&(t=""),s?.required?t="\u6b64\u6b04\u4f4d\u70ba\u5fc5\u586b\u6b04\u4f4d":(s?.msg&&(t=s.msg),t)}};function T(r){if(r)if(r.markAsDirty(),r.updateValueAndValidity(),r instanceof a.nJ){const o=r;for(const n in o.controls)n&&T(o.get(n))}else if(r instanceof a.vC){const o=r;for(const n in o.controls)n&&T(o.get(n))}}var e=c(4650),g=c(4004),Z=c(529),F=c(2843),M=c(9751),_=c(2340),p=c(9300),h=c(262),S=c(3910);let I=(()=>{class r{constructor(n,t,i){this.http=n,this.router=t,this.modal=i,this.isPopupInvalidMsg=!1,this.isCloseAllApi=!1,this.isCloseFileAPi=!1,this.fakeFile=()=>{const l=new Blob(["https://www.google.com.tw"],{type:"application/octet-stream"});return console.log(l),l},this.handleResponse=s=>!0,this.handleAttachFileResponse=s=>{let l=!0;return"image/png"===s.body.type?((new FileReader).addEventListener("loadend",k=>{l=!1}),!1):l},this.handleError=s=>(s.error instanceof ErrorEvent?console.error("An error occurred:",s.error.message):console.error(`Backend returned code ${s.status}, body was: ${s.error}`),(0,F._)("Something bad happened; please try again later.")),this.handleNoTokenUserError=s=>{let l=!0;return 200!=s.status&&!s.token&&(l=!1),l}}request(n,t,i){if(this.isCloseAllApi)return this.closeAllAPI();const s=this.getHTTPHeaders(),l=_.N.DEFAULT_IP+i;switch(n){case"get":default:return this.http.get(l,{headers:s,params:t}).pipe((0,p.h)(this.handleResponse),(0,h.K)(this.handleError));case"delete":return this.http.delete(l,{headers:s,params:t}).pipe((0,p.h)(this.handleResponse),(0,h.K)(this.handleError));case"post":return this.http.post(l,t,{headers:s}).pipe((0,p.h)(this.handleResponse),(0,h.K)(this.handleError));case"patch":return this.http.patch(l,t,{headers:s}).pipe((0,p.h)(this.handleResponse),(0,h.K)(this.handleError));case"put":return this.http.put(l,t,{headers:s}).pipe((0,p.h)(this.handleResponse),(0,h.K)(this.handleError))}}requestNoToken(n,t,i){const s=this.getNoTokenHTTPHeaders();return"post"===n?this.http.post(_.N.DEFAULT_IP+i,t,{headers:s}).pipe((0,p.h)(this.handleNoTokenUserError),(0,h.K)(this.handleError)):this.http.get(_.N.DEFAULT_IP+i,{headers:s}).pipe((0,p.h)(this.handleNoTokenUserError),(0,h.K)(this.handleError))}uploadFiles(n,t,i="post",s){if(this.isCloseAllApi)return this.closeAllAPI();const l=this.getHTTPHeaders().delete("Content-Type"),u=_.N.DEFAULT_IP+t;switch(i){case"post":return this.http.post(u,n,{headers:l,params:s}).pipe((0,p.h)(this.handleResponse),(0,h.K)(this.handleError));case"patch":return this.http.patch(u,n,{headers:l,params:s}).pipe((0,p.h)(this.handleResponse),(0,h.K)(this.handleError));default:return this.http.get(u,{headers:l,params:s}).pipe((0,p.h)(this.handleResponse),(0,h.K)(this.handleError))}}getImageRequest(n){return this.http.get(_.N.DEFAULT_IP+n,{responseType:"blob"})}getHTTPHeaders(){return new Z.WM({Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+sessionStorage.getItem("token")})}getNoTokenHTTPHeaders(){return new Z.WM({"Content-Type":"application/json"})}closeAllAPI(){const n={message:"\u6a21\u64ec\u6210\u529f",data:{}};return new M.y(i=>{i.next(n),i.complete()})}closeFileAPI(){const n=this.fakeFile();return new M.y(i=>{i.next(n),i.complete()})}}return r.\u0275fac=function(n){return new(n||r)(e.LFG(Z.eN),e.LFG(C.F0),e.LFG(S.Sf))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),U=(()=>{class r{constructor(n){this.networkingService=n}getModels(){return this.networkingService.request("get",{},"/api/Model").pipe((0,g.U)(t=>(console.log(t),t)))}createModel(n){return this.networkingService.request("post",{name:n},"/api/Model").pipe((0,g.U)(s=>(console.log(s),s)))}deleteModel(n){return this.networkingService.request("post",{},"/api/Model/"+n).pipe((0,g.U)(i=>(console.log(i),i)))}getModelInfo(n){return this.networkingService.request("get",{},"/api/Model/"+n).pipe((0,g.U)(i=>i))}updateModel(n){return this.networkingService.request("post",n,"/api/Model/"+n.name).pipe((0,g.U)(i=>(console.log(i),i)))}postSample(n,t){return this.networkingService.request("post",{source:t},`/api/Model/${n}/sample`).pipe((0,g.U)(l=>l))}getSample(n){return this.networkingService.getImageRequest(`/api/Model/${n}/sample`)}learning(n){return this.networkingService.request("post",n,`/api/Model/${n.name}/learning`).pipe((0,g.U)(i=>i))}matching(n){return this.networkingService.request("post",n,`/api/Model/${n.name}/matching`).pipe((0,g.U)(i=>(console.log(i),i)))}}return r.\u0275fac=function(n){return new(n||r)(e.LFG(I))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var z=c(6616),y=c(7044),b=c(1811),B=c(8521),D=c(8e3),J=c(5635),A=c(3679),m=c(6704),E=c(2745);function $(r,o){if(1&r){const n=e.EpF();e.TgZ(0,"section")(1,"div",5),e._UZ(2,"img",6),e.TgZ(3,"p",7),e._uU(4),e.qZA()(),e.TgZ(5,"nz-radio-group",8),e.NdJ("ngModelChange",function(i){e.CHM(n);const s=e.oxw();return e.KtG(s.detectType=i)}),e.TgZ(6,"label",9),e._uU(7,"\u65b0\u5efa\u6aa2\u6e2c"),e.qZA(),e.TgZ(8,"label",10),e._uU(9,"\u8b80\u53d6\u6aa2\u6e2c"),e.qZA()(),e.TgZ(10,"div",11)(11,"button",12),e.NdJ("click",function(){e.CHM(n);const i=e.oxw();return e.KtG(i.nextClick())}),e._uU(12,"\u4e0b\u4e00\u6b65"),e.qZA()()()}if(2&r){const n=e.oxw();e.xp6(4),e.Oqu(n.steps[0]),e.xp6(1),e.Q6J("ngModel",n.detectType),e.xp6(6),e.Q6J("nzType","primary")}}function P(r,o){if(1&r&&(e.TgZ(0,"nz-form-item",16)(1,"nz-form-label",17),e._uU(2,"\u8f38\u5165\u6aa2\u6e2c\u540d\u7a31"),e.qZA(),e.TgZ(3,"nz-form-control",18),e._UZ(4,"input",19),e.qZA()()),2&r){const n=e.oxw(2);e.xp6(3),e.Q6J("nzErrorTip",n.errorMsg.getFormErrorStr(n.validateForm,"name"))}}function O(r,o){if(1&r&&e._UZ(0,"nz-option",22),2&r){const n=o.$implicit;e.Q6J("nzValue",n)("nzLabel",n)}}function Q(r,o){if(1&r&&(e.TgZ(0,"nz-form-item",16)(1,"nz-form-label",17),e._uU(2,"\u9078\u64c7\u6aa2\u6e2c\u540d\u7a31"),e.qZA(),e.TgZ(3,"nz-form-control",18)(4,"nz-select",20),e.YNc(5,O,1,2,"nz-option",21),e.qZA()()()),2&r){const n=e.oxw(2);e.xp6(3),e.Q6J("nzErrorTip",n.errorMsg.getFormErrorStr(n.validateForm,"name")),e.xp6(2),e.Q6J("ngForOf",n.models)}}function R(r,o){if(1&r){const n=e.EpF();e.TgZ(0,"section")(1,"div",5),e._UZ(2,"img",6),e.TgZ(3,"p",7),e._uU(4),e.qZA()(),e.TgZ(5,"form",13),e.YNc(6,P,5,1,"nz-form-item",14),e.YNc(7,Q,6,2,"nz-form-item",14),e.qZA(),e.TgZ(8,"div",11)(9,"button",15),e.NdJ("click",function(){e.CHM(n);const i=e.oxw();return e.KtG(i.prevClick())}),e._uU(10,"\u4e0a\u4e00\u6b65"),e.qZA(),e.TgZ(11,"button",12),e.NdJ("click",function(){e.CHM(n);const i=e.oxw();return e.KtG(i.nextClick())}),e._uU(12,"\u4e0b\u4e00\u6b65"),e.qZA()()()}if(2&r){const n=e.oxw();e.xp6(4),e.Oqu(n.steps[1]),e.xp6(1),e.Q6J("formGroup",n.validateForm),e.xp6(1),e.Q6J("ngIf","new"===n.detectType),e.xp6(1),e.Q6J("ngIf","read"===n.detectType),e.xp6(4),e.Q6J("nzType","primary")}}let H=(()=>{class r{constructor(n,t){this.router=n,this.modelService=t,this.errorMsg=q,this.detectType="new",this.currentStep=0,this.models=[];const i=this.router.getCurrentNavigation()?.extras.state;i&&(this.detectType=i.detectType)}get steps(){return["\u9078\u64c7\u6aa2\u6e2c\u65b9\u5f0f",("new"===this.detectType?"\u65b0\u589e":"\u9078\u64c7")+"\u6aa2\u6e2c\u540d\u7a31"]}ngOnInit(){this.initForm()}prevClick(){this.currentStep>0&&this.currentStep--}nextClick(){switch(this.currentStep){case 0:this.currentStep++,"read"===this.detectType&&this.getModels();break;case 1:if(!this.isFormValid())return;const n=[v.Et.START_DETECTION,v.zl.DETECT_SETTING];"new"===this.detectType?this.createModel().subscribe(t=>{this.router.navigate(n,{state:{name:this.validateForm.controls.name.value}})}):"read"===this.detectType&&this.router.navigate(n,{state:{name:this.validateForm.controls.name.value}})}}initForm(){this.validateForm=new a.cw({name:new a.NI("",[w()])})}isFormValid(){return T(this.validateForm),this.validateForm.valid}createModel(){return this.modelService.createModel(this.validateForm.controls.name.value)}getModels(){this.modelService.getModels().subscribe(n=>{n&&(this.models=n)})}}return r.\u0275fac=function(n){return new(n||r)(e.Y36(C.F0),e.Y36(U))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-detection"]],decls:8,vars:2,consts:[[1,"p-3","relative","h-full"],[1,"title"],[1,"my-4"],[4,"ngIf"],[1,"working-area"],[1,"flex","items-center","mb-2"],["src","./assets/images/icons/icon_list_symbol.png","width","20","alt","",1,"me-2"],[1,"subtitle"],[1,"pl-2",3,"ngModel","ngModelChange"],["nz-radio","","nzValue","new",1,"block","mb-2"],["nz-radio","","nzValue","read",1,"block"],[1,"btns-group"],["nz-button","",3,"nzType","click"],["nz-form","","nzLayout","vertical",3,"formGroup"],["class","input-w",4,"ngIf"],["nz-button","",1,"mb-2",3,"click"],[1,"input-w"],["nzFor","param1"],[3,"nzErrorTip"],["nz-input","","name","param1","type","text","formControlName","name"],["formControlName","name","nzPlaceHolder","\u8acb\u9078\u64c7",1,"w-full"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],[3,"nzValue","nzLabel"]],template:function(n,t){1&n&&(e.TgZ(0,"app-left-bar")(1,"div",0)(2,"p",1),e._uU(3,"\u958b\u59cb\u6aa2\u6e2c"),e.qZA(),e._UZ(4,"hr",2),e.YNc(5,$,13,3,"section",3),e.YNc(6,R,13,5,"section",3),e.qZA()(),e._UZ(7,"section",4)),2&n&&(e.xp6(5),e.Q6J("ngIf",0===t.currentStep),e.xp6(1),e.Q6J("ngIf",1===t.currentStep))},dependencies:[d.sg,d.O5,a._Y,a.Fj,a.JJ,a.JL,a.On,a.sg,a.u,z.ix,y.w,b.dQ,B.Of,B.Dg,D.Ip,D.Vq,J.Zp,A.t3,A.SK,m.Lr,m.Nx,m.iK,m.Fd,E.D],styles:["[_nghost-%COMP%]{display:flex}"]}),r})();var L=c(2961),G=c(2223),x=c(9112),f=c(8281);const K=["chipB1"],Y=["chipB2"],V=["chipB3"],W=["chipB4"],j=["chipB5"],X=["chipB6"],ee=["chipB7"],te=["chipB8"],ne=["chipB9"],ie=["chipB10"],re=["chipB11"],oe=["chipB12"],se=["chipB13"],le=["chipB14"],ce=["chipA1"],ae=["chipA2"],ue=["chipA3"],pe=["chipA4"],he=["chipA5"],ge=["chipA6"],me=["chipA7"],de=["chipA8"],fe=["chipA9"],Ce=["chipA10"],_e=["chipA11"],ve=["chipA12"],Ae=["chipA13"],Te=["chipA14"],Ze=["chipBImage"],ke=["chipAImage"];function Ne(r,o){if(1&r&&(e.TgZ(0,"div")(1,"p",62)(2,"span"),e._uU(3),e.qZA(),e.TgZ(4,"span",63),e._uU(5,"."),e.qZA(),e.TgZ(6,"span",63),e._uU(7,"."),e.qZA(),e.TgZ(8,"span",63),e._uU(9,"."),e.qZA(),e.TgZ(10,"span",63),e._uU(11,"."),e.qZA(),e.TgZ(12,"span",63),e._uU(13,"."),e.qZA(),e.TgZ(14,"span",63),e._uU(15,"."),e.qZA()()()),2&r){const n=e.oxw();e.xp6(3),e.Oqu(0===n.currentStep?"\u6aa2\u6e2c\u4e2d":1===n.currentStep?"\u6e05\u6d17\u4e2d":"\u8907\u6aa2\u4e2d")}}function Me(r,o){if(1&r){const n=e.EpF();e.TgZ(0,"button",64),e.NdJ("click",function(){e.CHM(n);const i=e.oxw();return e.KtG(i.onLeaveClick())}),e._uU(1," \u96e2\u958b "),e.qZA()}2&r&&e.Q6J("nzType","primary")("nzGhost",!0)}function Se(r,o){1&r&&e._UZ(0,"nz-step",65),2&r&&e.Q6J("nzTitle",o.$implicit)}function ze(r,o){if(1&r){const n=e.EpF();e.TgZ(0,"div",66)(1,"nz-segmented",67),e.NdJ("ngModelChange",function(i){e.CHM(n);const s=e.oxw();return e.KtG(s.selectedBAIndex=i)})("ngModelChange",function(i){e.CHM(n);const s=e.oxw();return e.KtG(s.handleModelChange(i))}),e.qZA()()}if(2&r){const n=e.oxw();e.xp6(1),e.Q6J("nzOptions",n.options)("ngModel",n.selectedBAIndex)}}function ye(r,o){1&r&&e._uU(0,"\u6aa2\u6e2c\u7d50\u679c")}function be(r,o){if(1&r&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA()()),2&r){const n=o.$implicit;e.xp6(2),e.Oqu(n.key),e.xp6(2),e.Oqu(n.value1),e.xp6(2),e.Oqu(n.value2),e.xp6(2),e.Oqu(n.value3),e.xp6(2),e.Oqu(n.value4),e.xp6(2),e.Oqu(n.value5),e.xp6(2),e.Oqu(n.value6)}}function Be(r,o){if(1&r&&(e.TgZ(0,"nz-table",68,69)(2,"thead")(3,"tr")(4,"th"),e._uU(5,"Index"),e.qZA(),e.TgZ(6,"th"),e._uU(7,"10~20um"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"20~30um"),e.qZA(),e.TgZ(10,"th"),e._uU(11,"30~40um"),e.qZA(),e.TgZ(12,"th"),e._uU(13,"40~50um"),e.qZA(),e.TgZ(14,"th"),e._uU(15,"50~80um"),e.qZA(),e.TgZ(16,"th"),e._uU(17,">80um"),e.qZA()()(),e.TgZ(18,"tbody"),e.YNc(19,be,15,7,"tr",70),e.qZA()()),2&r){const n=e.MAs(1),t=e.oxw();e.Q6J("nzData",t.listOfData)("nzPageSize",20),e.xp6(19),e.Q6J("ngForOf",n.data)}}function De(r,o){if(1&r){const n=e.EpF();e.TgZ(0,"button",71),e.NdJ("click",function(){e.CHM(n);const i=e.oxw();return e.KtG(i.isModalVisible=!1)}),e._uU(1,"\u95dc\u9589"),e.qZA()}}const Ee=[{path:"",component:H},{path:v.zl.DETECT_SETTING,component:(()=>{class r{constructor(n,t){this.loadingService=n,this.router=t,this.imageState="original",this.steps=["\u958b\u59cb\u6aa2\u6e2c","\u6e05\u6d17","\u8907\u6aa2","\u6aa2\u6e2c\u7d50\u679c"],this.currentStep=0,this.currentChipNo=0,this.isProgressing=!1,this.selectedBAIndex=1,this.options=["Before","After"],this.isModalVisible=!1,this.listOfData=[{key:"1",value1:"0",value2:"0",value3:"0",value4:"0",value5:"0",value6:"0"},{key:"2",value1:"0",value2:"0",value3:"0",value4:"0",value5:"0",value6:"0"},{key:"3",value1:"0",value2:"0",value3:"0",value4:"0",value5:"0",value6:"0"},{key:"4",value1:"0",value2:"0",value3:"0",value4:"0",value5:"0",value6:"0"},{key:"5",value1:"0",value2:"0",value3:"2",value4:"2",value5:"0",value6:"0"},{key:"6",value1:"0",value2:"0",value3:"0",value4:"0",value5:"0",value6:"0"},{key:"7",value1:"0",value2:"0",value3:"0",value4:"0",value5:"0",value6:"0"},{key:"8",value1:"0",value2:"0",value3:"0",value4:"0",value5:"0",value6:"0"},{key:"9",value1:"0",value2:"0",value3:"0",value4:"0",value5:"0",value6:"0"},{key:"10",value1:"1",value2:"0",value3:"0",value4:"0",value5:"0",value6:"0"},{key:"11",value1:"0",value2:"0",value3:"0",value4:"0",value5:"0",value6:"0"},{key:"12",value1:"0",value2:"0",value3:"0",value4:"0",value5:"0",value6:"0"},{key:"13",value1:"0",value2:"0",value3:"0",value4:"0",value5:"0",value6:"0"},{key:"14",value1:"0",value2:"0",value3:"0",value4:"0",value5:"0",value6:"0"},{key:"Total",value1:"1",value2:"0",value3:"2",value4:"2",value5:"0",value6:"0"}]}ngOnInit(){}onStartClick(){this.isProgressing=!0,this.currentChipNo=1,this.detectTimer=setInterval(()=>{console.log(this.currentChipNo),1===this.currentChipNo?(this.setProcessingBorder(this[`chipB${this.currentChipNo}`]),setTimeout(()=>{this.setChipImage(this.currentChipNo,"before"),this.currentChipNo++},500)):this.currentChipNo<14?(this.removeProcessingBorder(this["chipB"+(this.currentChipNo-1)]),this.setCompletedBorder(this["chipB"+(this.currentChipNo-1)]),this.setProcessingBorder(this[`chipB${this.currentChipNo}`]),setTimeout(()=>{this.setChipImage(this.currentChipNo,"before"),this.currentChipNo++},500)):(this.removeProcessingBorder(this["chipB"+(this.currentChipNo-1)]),this.setCompletedBorder(this["chipB"+(this.currentChipNo-1)]),this.setProcessingBorder(this[`chipB${this.currentChipNo}`]),setTimeout(()=>{this.setChipImage(this.currentChipNo,"before"),setTimeout(()=>{this.removeProcessingBorder(this[`chipB${this.currentChipNo}`]),this.setCompletedBorder(this[`chipB${this.currentChipNo}`]),this.isProgressing=!1,this.currentStep=1},500)},500),clearInterval(this.detectTimer))},1e3)}onCleanClick(){this.isProgressing=!0,this.loadingService.loading(!0,"\u6e05\u6d17\u4e2d..."),setTimeout(()=>{this.isProgressing=!1,this.currentStep=2,document.querySelectorAll(".chip").forEach(n=>{n.classList.remove("completed"),n.classList.remove("active")}),this.setChipImage(null,"after"),this.loadingService.loading(!1)},3e3)}onReStartClick(){this.isProgressing=!0,this.currentChipNo=1,this.detectTimer=setInterval(()=>{console.log(this.currentChipNo),1===this.currentChipNo?(this.setProcessingBorder(this[`chipA${this.currentChipNo}`]),setTimeout(()=>{this.setChipImage(this.currentChipNo,"after"),this.currentChipNo++},500)):this.currentChipNo<14?(this.removeProcessingBorder(this["chipA"+(this.currentChipNo-1)]),this.setCompletedBorder(this["chipA"+(this.currentChipNo-1)]),this.setProcessingBorder(this[`chipA${this.currentChipNo}`]),setTimeout(()=>{this.setChipImage(this.currentChipNo,"after"),this.currentChipNo++},500)):(this.removeProcessingBorder(this["chipA"+(this.currentChipNo-1)]),this.setCompletedBorder(this["chipA"+(this.currentChipNo-1)]),this.setProcessingBorder(this[`chipA${this.currentChipNo}`]),setTimeout(()=>{this.setChipImage(this.currentChipNo,"after"),setTimeout(()=>{this.removeProcessingBorder(this[`chipA${this.currentChipNo}`]),this.setCompletedBorder(this[`chipA${this.currentChipNo}`]),this.isProgressing=!1,this.currentStep=3,this.isModalVisible=!0},500)},500),clearInterval(this.detectTimer))},1e3)}onChipClick(n,t){console.log(n),!this.isProgressing&&0!==this.currentStep&&2!==this.currentStep&&this.setChipImage(n,t)}onShowResultModalClick(){this.isModalVisible=!0}onLeaveClick(){this.router.navigate([v.Et.HOME])}handleModelChange(n){0===n?this.setChipImage(this.currentChipNo,"before"):1===n&&this.setChipImage(this.currentChipNo,"after")}setChipImage(n,t){!n||(this.currentChipNo=n,"before"===t?this.chipBImage.nativeElement.src=`./assets/images/chips/before/00${n}.jpeg`:"after"===t&&(this.chipAImage.nativeElement.src=`./assets/images/chips/after/00${n}.jpeg`),console.log(this.chipBImage))}setProcessingBorder(n){this.borderTimer=setInterval(()=>{n&&n.nativeElement.classList.toggle("active")},500)}removeProcessingBorder(n){n&&this.borderTimer&&(n.nativeElement.classList.remove("active"),clearInterval(this.borderTimer))}setCompletedBorder(n){n&&n.nativeElement.classList.add("completed")}}return r.\u0275fac=function(n){return new(n||r)(e.Y36(L.b),e.Y36(C.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-demo"]],viewQuery:function(n,t){if(1&n&&(e.Gf(K,5),e.Gf(Y,5),e.Gf(V,5),e.Gf(W,5),e.Gf(j,5),e.Gf(X,5),e.Gf(ee,5),e.Gf(te,5),e.Gf(ne,5),e.Gf(ie,5),e.Gf(re,5),e.Gf(oe,5),e.Gf(se,5),e.Gf(le,5),e.Gf(ce,5),e.Gf(ae,5),e.Gf(ue,5),e.Gf(pe,5),e.Gf(he,5),e.Gf(ge,5),e.Gf(me,5),e.Gf(de,5),e.Gf(fe,5),e.Gf(Ce,5),e.Gf(_e,5),e.Gf(ve,5),e.Gf(Ae,5),e.Gf(Te,5),e.Gf(Ze,5),e.Gf(ke,5)),2&n){let i;e.iGM(i=e.CRH())&&(t.chipB1=i.first),e.iGM(i=e.CRH())&&(t.chipB2=i.first),e.iGM(i=e.CRH())&&(t.chipB3=i.first),e.iGM(i=e.CRH())&&(t.chipB4=i.first),e.iGM(i=e.CRH())&&(t.chipB5=i.first),e.iGM(i=e.CRH())&&(t.chipB6=i.first),e.iGM(i=e.CRH())&&(t.chipB7=i.first),e.iGM(i=e.CRH())&&(t.chipB8=i.first),e.iGM(i=e.CRH())&&(t.chipB9=i.first),e.iGM(i=e.CRH())&&(t.chipB10=i.first),e.iGM(i=e.CRH())&&(t.chipB11=i.first),e.iGM(i=e.CRH())&&(t.chipB12=i.first),e.iGM(i=e.CRH())&&(t.chipB13=i.first),e.iGM(i=e.CRH())&&(t.chipB14=i.first),e.iGM(i=e.CRH())&&(t.chipA1=i.first),e.iGM(i=e.CRH())&&(t.chipA2=i.first),e.iGM(i=e.CRH())&&(t.chipA3=i.first),e.iGM(i=e.CRH())&&(t.chipA4=i.first),e.iGM(i=e.CRH())&&(t.chipA5=i.first),e.iGM(i=e.CRH())&&(t.chipA6=i.first),e.iGM(i=e.CRH())&&(t.chipA7=i.first),e.iGM(i=e.CRH())&&(t.chipA8=i.first),e.iGM(i=e.CRH())&&(t.chipA9=i.first),e.iGM(i=e.CRH())&&(t.chipA10=i.first),e.iGM(i=e.CRH())&&(t.chipA11=i.first),e.iGM(i=e.CRH())&&(t.chipA12=i.first),e.iGM(i=e.CRH())&&(t.chipA13=i.first),e.iGM(i=e.CRH())&&(t.chipA14=i.first),e.iGM(i=e.CRH())&&(t.chipBImage=i.first),e.iGM(i=e.CRH())&&(t.chipAImage=i.first)}},decls:106,vars:42,consts:[[1,"p-3","relative","h-full"],[1,"overflow-auto",2,"height","calc(100% - 104px)"],[1,"title"],[1,"my-4"],["nz-form","","nzLayout","vertical"],[1,"flex","items-center","mb-2"],["src","./assets/images/icons/icon_list_symbol.png","width","20","alt","",1,"me-2"],[1,"subtitle"],[1,"input-w"],["nz-input","","name","param1","type","text","value","\u6aa2\u6e2c01","disabled",""],[1,"btns-group"],[4,"ngIf"],["nz-button","",3,"nzType","disabled","click"],["nz-button","","class","mt-2",3,"nzType","nzGhost","click",4,"ngIf"],[1,"working-area","img-box"],[1,"h-full","overflow-auto","relative"],[1,"control-bar","bg-white","p-2","z-10","absolute","left-0","right-0","flex","items-center"],["nzSize","small",1,"mx-10",3,"nzCurrent"],[3,"nzTitle",4,"ngFor","ngForOf"],["class","absolute top-16 left-2 z-10",4,"ngIf"],[2,"padding","120px 30px"],[1,"grid","grid-cols-3",3,"hidden"],[1,"chip-box"],[1,"text-white","text-center","pt-2"],[1,"grid","grid-cols-2","gap-1","p-4"],["src","./assets/images/chip.png","alt","",1,"chip","p-1","w-full",3,"ngClass","click"],["chipB1",""],["chipB2",""],["chipB4",""],["chipB3",""],["chipB5",""],["chipB6",""],["chipB8",""],["chipB7",""],["chipB9",""],["chipB10",""],["chipB12",""],["chipB11",""],["chipB13",""],["chipB14",""],[1,"preview","col-span-2"],["src","","alt","",1,"w-full"],["chipBImage",""],["chipA1",""],["chipA2",""],["chipA4",""],["chipA3",""],["chipA5",""],["chipA6",""],["chipA8",""],["chipA7",""],["chipA9",""],["chipA10",""],["chipA12",""],["chipA11",""],["chipA13",""],["chipA14",""],["chipAImage",""],["nzWidth","800px","nzCentered","",3,"nzVisible","nzTitle","nzContent","nzFooter","nzVisibleChange"],["modalTitle",""],["modalContent",""],["modalFooter",""],[1,"text-lg","text-center","mb-2",2,"color","dimgrey"],[1,"waiting-text"],["nz-button","",1,"mt-2",3,"nzType","nzGhost","click"],[3,"nzTitle"],[1,"absolute","top-16","left-2","z-10"],[2,"background-color","#004097",3,"nzOptions","ngModel","ngModelChange"],["nzShowPagination","false",3,"nzData","nzPageSize"],["basicTable",""],[4,"ngFor","ngForOf"],["nz-button","","nzType","default",3,"click"]],template:function(n,t){if(1&n&&(e.TgZ(0,"app-left-bar")(1,"div",0)(2,"div",1)(3,"p",2),e._uU(4,"\u958b\u59cb\u6aa2\u6e2c"),e.qZA(),e._UZ(5,"hr",3),e.TgZ(6,"form",4)(7,"section")(8,"div",5),e._UZ(9,"img",6),e.TgZ(10,"p",7),e._uU(11,"\u6aa2\u6e2c\u540d\u7a31"),e.qZA()(),e.TgZ(12,"nz-form-item",8)(13,"nz-form-control"),e._UZ(14,"input",9),e.qZA()()()()(),e.TgZ(15,"div",10),e.YNc(16,Ne,16,1,"div",11),e.TgZ(17,"button",12),e.NdJ("click",function(){return 0===t.currentStep?t.onStartClick():1===t.currentStep?t.onCleanClick():2===t.currentStep?t.onReStartClick():t.onShowResultModalClick()}),e._uU(18),e.qZA(),e.YNc(19,Me,2,2,"button",13),e.qZA()()(),e.TgZ(20,"section",14)(21,"div",15)(22,"div",16)(23,"nz-steps",17),e.YNc(24,Se,1,1,"nz-step",18),e.qZA()(),e.YNc(25,ze,2,2,"div",19),e.TgZ(26,"div",20)(27,"div",21)(28,"div",22)(29,"p",23),e._uU(30,"Before"),e.qZA(),e.TgZ(31,"div",24)(32,"img",25,26),e.NdJ("click",function(){return t.onChipClick(1,"before")}),e.qZA(),e.TgZ(34,"img",25,27),e.NdJ("click",function(){return t.onChipClick(2,"before")}),e.qZA(),e.TgZ(36,"img",25,28),e.NdJ("click",function(){return t.onChipClick(4,"before")}),e.qZA(),e.TgZ(38,"img",25,29),e.NdJ("click",function(){return t.onChipClick(3,"before")}),e.qZA(),e.TgZ(40,"img",25,30),e.NdJ("click",function(){return t.onChipClick(5,"before")}),e.qZA(),e.TgZ(42,"img",25,31),e.NdJ("click",function(){return t.onChipClick(6,"before")}),e.qZA(),e.TgZ(44,"img",25,32),e.NdJ("click",function(){return t.onChipClick(8,"before")}),e.qZA(),e.TgZ(46,"img",25,33),e.NdJ("click",function(){return t.onChipClick(7,"before")}),e.qZA(),e.TgZ(48,"img",25,34),e.NdJ("click",function(){return t.onChipClick(9,"before")}),e.qZA(),e.TgZ(50,"img",25,35),e.NdJ("click",function(){return t.onChipClick(10,"before")}),e.qZA(),e.TgZ(52,"img",25,36),e.NdJ("click",function(){return t.onChipClick(12,"before")}),e.qZA(),e.TgZ(54,"img",25,37),e.NdJ("click",function(){return t.onChipClick(11,"before")}),e.qZA(),e.TgZ(56,"img",25,38),e.NdJ("click",function(){return t.onChipClick(13,"before")}),e.qZA(),e.TgZ(58,"img",25,39),e.NdJ("click",function(){return t.onChipClick(14,"before")}),e.qZA()()(),e.TgZ(60,"div",40),e._UZ(61,"img",41,42),e.qZA()(),e.TgZ(63,"div",21)(64,"div",22)(65,"p",23),e._uU(66,"After"),e.qZA(),e.TgZ(67,"div",24)(68,"img",25,43),e.NdJ("click",function(){return t.onChipClick(1,"after")}),e.qZA(),e.TgZ(70,"img",25,44),e.NdJ("click",function(){return t.onChipClick(2,"after")}),e.qZA(),e.TgZ(72,"img",25,45),e.NdJ("click",function(){return t.onChipClick(4,"after")}),e.qZA(),e.TgZ(74,"img",25,46),e.NdJ("click",function(){return t.onChipClick(3,"after")}),e.qZA(),e.TgZ(76,"img",25,47),e.NdJ("click",function(){return t.onChipClick(5,"after")}),e.qZA(),e.TgZ(78,"img",25,48),e.NdJ("click",function(){return t.onChipClick(6,"after")}),e.qZA(),e.TgZ(80,"img",25,49),e.NdJ("click",function(){return t.onChipClick(8,"after")}),e.qZA(),e.TgZ(82,"img",25,50),e.NdJ("click",function(){return t.onChipClick(7,"after")}),e.qZA(),e.TgZ(84,"img",25,51),e.NdJ("click",function(){return t.onChipClick(9,"after")}),e.qZA(),e.TgZ(86,"img",25,52),e.NdJ("click",function(){return t.onChipClick(10,"after")}),e.qZA(),e.TgZ(88,"img",25,53),e.NdJ("click",function(){return t.onChipClick(12,"after")}),e.qZA(),e.TgZ(90,"img",25,54),e.NdJ("click",function(){return t.onChipClick(11,"after")}),e.qZA(),e.TgZ(92,"img",25,55),e.NdJ("click",function(){return t.onChipClick(13,"after")}),e.qZA(),e.TgZ(94,"img",25,56),e.NdJ("click",function(){return t.onChipClick(14,"after")}),e.qZA()()(),e.TgZ(96,"div",40),e._UZ(97,"img",41,57),e.qZA()()()()(),e.TgZ(99,"nz-modal",58),e.NdJ("nzVisibleChange",function(s){return t.isModalVisible=s}),e.YNc(100,ye,1,0,"ng-template",null,59,e.W1O),e.YNc(102,Be,20,3,"ng-template",null,60,e.W1O),e.YNc(104,De,2,0,"ng-template",null,61,e.W1O),e.qZA()),2&n){const i=e.MAs(101),s=e.MAs(103),l=e.MAs(105);e.xp6(16),e.Q6J("ngIf",t.isProgressing),e.xp6(1),e.Q6J("nzType","primary")("disabled",t.isProgressing),e.xp6(1),e.hij(" ",0===t.currentStep?"start":1===t.currentStep?"\u958b\u59cb\u6e05\u6d17":2===t.currentStep?"\u958b\u59cb\u8907\u6aa2":"\u986f\u793a\u7d50\u679c"," "),e.xp6(1),e.Q6J("ngIf",3===t.currentStep),e.xp6(4),e.Q6J("nzCurrent",t.currentStep),e.xp6(1),e.Q6J("ngForOf",t.steps),e.xp6(1),e.Q6J("ngIf",3===t.currentStep),e.xp6(2),e.Q6J("hidden",!(t.currentStep<=1||3===t.currentStep&&0===t.selectedBAIndex)),e.xp6(5),e.Q6J("ngClass",1!==t.currentStep&&3!==t.currentStep||1!==t.currentChipNo?"":"active"),e.xp6(2),e.Q6J("ngClass",1!==t.currentStep&&3!==t.currentStep||2!==t.currentChipNo?"":"active"),e.xp6(2),e.Q6J("ngClass",1!==t.currentStep&&3!==t.currentStep||4!==t.currentChipNo?"":"active"),e.xp6(2),e.Q6J("ngClass",1!==t.currentStep&&3!==t.currentStep||3!==t.currentChipNo?"":"active"),e.xp6(2),e.Q6J("ngClass",1!==t.currentStep&&3!==t.currentStep||5!==t.currentChipNo?"":"active"),e.xp6(2),e.Q6J("ngClass",1!==t.currentStep&&3!==t.currentStep||6!==t.currentChipNo?"":"active"),e.xp6(2),e.Q6J("ngClass",1!==t.currentStep&&3!==t.currentStep||8!==t.currentChipNo?"":"active"),e.xp6(2),e.Q6J("ngClass",1!==t.currentStep&&3!==t.currentStep||7!==t.currentChipNo?"":"active"),e.xp6(2),e.Q6J("ngClass",1!==t.currentStep&&3!==t.currentStep||9!==t.currentChipNo?"":"active"),e.xp6(2),e.Q6J("ngClass",1!==t.currentStep&&3!==t.currentStep||10!==t.currentChipNo?"":"active"),e.xp6(2),e.Q6J("ngClass",1!==t.currentStep&&3!==t.currentStep||12!==t.currentChipNo?"":"active"),e.xp6(2),e.Q6J("ngClass",1!==t.currentStep&&3!==t.currentStep||11!==t.currentChipNo?"":"active"),e.xp6(2),e.Q6J("ngClass",1!==t.currentStep&&3!==t.currentStep||13!==t.currentChipNo?"":"active"),e.xp6(2),e.Q6J("ngClass",1!==t.currentStep&&3!==t.currentStep||14!==t.currentChipNo?"":"active"),e.xp6(5),e.Q6J("hidden",!(2===t.currentStep||3===t.currentStep&&1===t.selectedBAIndex)),e.xp6(5),e.Q6J("ngClass",3===t.currentStep&&1===t.currentChipNo?"active":""),e.xp6(2),e.Q6J("ngClass",3===t.currentStep&&2===t.currentChipNo?"active":""),e.xp6(2),e.Q6J("ngClass",3===t.currentStep&&4===t.currentChipNo?"active":""),e.xp6(2),e.Q6J("ngClass",3===t.currentStep&&3===t.currentChipNo?"active":""),e.xp6(2),e.Q6J("ngClass",3===t.currentStep&&5===t.currentChipNo?"active":""),e.xp6(2),e.Q6J("ngClass",3===t.currentStep&&6===t.currentChipNo?"active":""),e.xp6(2),e.Q6J("ngClass",3===t.currentStep&&8===t.currentChipNo?"active":""),e.xp6(2),e.Q6J("ngClass",3===t.currentStep&&7===t.currentChipNo?"active":""),e.xp6(2),e.Q6J("ngClass",3===t.currentStep&&9===t.currentChipNo?"active":""),e.xp6(2),e.Q6J("ngClass",3===t.currentStep&&10===t.currentChipNo?"active":""),e.xp6(2),e.Q6J("ngClass",3===t.currentStep&&12===t.currentChipNo?"active":""),e.xp6(2),e.Q6J("ngClass",3===t.currentStep&&11===t.currentChipNo?"active":""),e.xp6(2),e.Q6J("ngClass",3===t.currentStep&&13===t.currentChipNo?"active":""),e.xp6(2),e.Q6J("ngClass",3===t.currentStep&&14===t.currentChipNo?"active":""),e.xp6(5),e.Q6J("nzVisible",t.isModalVisible)("nzTitle",i)("nzContent",s)("nzFooter",l)}},dependencies:[d.mk,d.sg,d.O5,a._Y,a.JJ,a.JL,a.On,a.F,z.ix,y.w,b.dQ,J.Zp,A.t3,A.SK,m.Lr,m.Nx,m.Fd,G.iy,G.$W,S.du,x.wY,f.N8,f.Uo,f._C,f.Om,f.p0,f.$Z,E.D],styles:["[_nghost-%COMP%]{display:flex}.img-box[_ngcontent-%COMP%]{height:calc(100vh - 70px)}.control-bar[_ngcontent-%COMP%]{box-shadow:4px 4px 6px #00000040}.chip-box[_ngcontent-%COMP%]{background-color:#533d38;width:150px;box-shadow:4px 4px 6px #00000040}.chip-box[_ngcontent-%COMP%]   .chip[_ngcontent-%COMP%]{width:60px;border:2px solid transparent;transition:all .2s ease-out}.chip-box[_ngcontent-%COMP%]   .chip.completed[_ngcontent-%COMP%]{border-color:green}.chip-box[_ngcontent-%COMP%]   .chip.active[_ngcontent-%COMP%]{border-color:#ff0;box-shadow:4px 4px 6px #ffff0040}.waiting-text[_ngcontent-%COMP%]{opacity:0;animation:waiting 2s ease-in-out infinite}.waiting-text[_ngcontent-%COMP%]:nth-child(1){animation-delay:0}.waiting-text[_ngcontent-%COMP%]:nth-child(2){animation-delay:.1s}.waiting-text[_ngcontent-%COMP%]:nth-child(3){animation-delay:.3s}.waiting-text[_ngcontent-%COMP%]:nth-child(4){animation-delay:.5s}.waiting-text[_ngcontent-%COMP%]:nth-child(5){animation-delay:.7s}.waiting-text[_ngcontent-%COMP%]:nth-child(6){animation-delay:.9s}.waiting-text[_ngcontent-%COMP%]:nth-child(7){animation-delay:1.1s}@keyframes waiting{0%{opacity:1}80%{opacity:0}}"]}),r})()}];let Ge=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[C.Bz.forChild(Ee),C.Bz]}),r})();var we=c(4373);let qe=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[d.ez,a.u5,a.UX,Ge,we.m]}),r})()}}]);